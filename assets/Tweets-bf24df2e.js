import{R as f,r as h,u as B,a as k,b as _,j as e,c as C,d as F,e as L,L as T}from"./index-631c9b12.js";var p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N=f.createContext&&f.createContext(p),u=globalThis&&globalThis.__assign||function(){return u=Object.assign||function(t){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},u.apply(this,arguments)},O=globalThis&&globalThis.__rest||function(t,o){var s={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&o.indexOf(l)<0&&(s[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(t);n<l.length;n++)o.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(t,l[n])&&(s[l[n]]=t[l[n]]);return s};function v(t){return t&&t.map(function(o,s){return f.createElement(o.tag,u({key:s},o.attr),v(o.child))})}function I(t){return function(o){return f.createElement(E,u({attr:u({},t.attr)},o),v(t.child))}}function E(t){var o=function(s){var l=t.attr,n=t.size,m=t.title,i=O(t,["attr","size","title"]),d=n||s.size||"1em",c;return s.className&&(c=s.className),t.className&&(c=(c?c+" ":"")+t.className),f.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,l,i,{className:c,style:u(u({color:t.color||s.color},s.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),m&&f.createElement("title",null,m),t.children)};return N!==void 0?f.createElement(N.Consumer,null,function(s){return o(s)}):o(p)}function z(t){return I({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}}]})(t)}const b=t=>t.followers.followers,R="_tweetCard_j2uke_1",S="_tweetBgLogo_j2uke_17",M="_tweetBgImg_j2uke_28",P="_BothObj_j2uke_36",A="_tweetRounded_j2uke_44",U="_tweetImg_j2uke_64",D="_tweetLine_j2uke_69",G="_tweetsTxt_j2uke_80",H="_followersTxt_j2uke_86",Q="_followBtn_j2uke_92",W="_followingBtn_j2uke_110",r={tweetCard:R,tweetBgLogo:S,tweetBgImg:M,BothObj:P,tweetRounded:A,tweetImg:U,tweetLine:D,tweetsTxt:G,followersTxt:H,followBtn:Q,followingBtn:W},q=({users:{id:t,user:o,tweets:s,followers:l,avatar:n}})=>{const[m,i]=h.useState(!1),[d]=B(),c=k(),a=_(b);h.useEffect(()=>{a.includes(t)?i(!0):i(!1)},[t,a]);const x=async j=>{const g=(()=>({followers:l+1}))();await d({body:g,id:j}),c(C(j)),i(!0)},w=async j=>{const g=(()=>({followers:l-1}))();await d({body:g,id:j}),c(F(j)),i(!1)};return e.jsxs("li",{className:r.tweetCard,children:[e.jsx("div",{className:r.tweetBgLogo}),e.jsx("div",{className:r.tweetBgImg}),e.jsxs("div",{className:r.BothObj,children:[e.jsx("div",{className:r.tweetRounded,children:e.jsx("img",{className:r.tweetImg,src:n,alt:o})}),e.jsx("div",{className:r.tweetLine})]}),e.jsxs("p",{className:r.tweetsTxt,children:[s," Tweets"]}),e.jsxs("p",{className:r.followersTxt,children:[String(l).replace(/\B(?=(\d{3})+(?!\d))/g,",")," Followers"]}),m?e.jsx("button",{className:r.followingBtn,onClick:()=>w(t),children:"Following"}):e.jsx("button",{className:r.followBtn,onClick:()=>x(t),children:"Follow"})]},t)};const J=3,K=15,V=()=>{const[t,o]=h.useState(J),[s,l]=h.useState([]),{data:n=[],isLoading:m}=L(t),i=_(b);h.useEffect(()=>{!m&&l(n)},[m,n]);const d=a=>{let x=[];if(a==="all"){l(n);return}else a==="follow"?n.forEach(w=>{!i.includes(w.id)&&x.push(w)}):a==="following"&&n.forEach(w=>{i.includes(w.id)&&x.push(w)});l(x)},c=()=>{o(a=>a+3)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"fixed z-10",children:e.jsxs("div",{className:"wrapper",children:[e.jsxs("div",{className:"option",children:[e.jsx("input",{className:"input",type:"radio",name:"btn",value:"option1",onClick:()=>d("all")}),e.jsx("div",{className:"btn",children:e.jsx("span",{className:"span",children:"All"})})]}),e.jsxs("div",{className:"option",children:[e.jsx("input",{className:"input",type:"radio",name:"btn",value:"option2",onClick:()=>d("follow")}),e.jsx("div",{className:"btn",children:e.jsx("span",{className:"span",children:"Follow"})})]}),e.jsxs("div",{className:"option",children:[e.jsx("input",{className:"input",type:"radio",name:"btn",value:"option3",onClick:()=>d("following")}),e.jsx("div",{className:"btn",children:e.jsx("span",{className:"span",children:"Followed"})})]})]})})}),e.jsx("div",{className:"mb-10",children:e.jsx("ul",{className:"flex justify-center flex-wrap gap-12 mt-10",children:s.map(a=>e.jsx(q,{users:a},a.id))})}),e.jsx("div",{className:"flex justify-center mb-6 font-mono font-extralight text-indigo-500",children:n.length>=K?e.jsx("h2",{className:"text-xl",children:"Its all tweets"}):e.jsx("button",{className:"buttonMore",onClick:()=>c(),children:"Load More"})})]})},Y=()=>e.jsxs("div",{className:"container",children:[e.jsx(T,{to:"/",className:"ml-2 fixed z-10",children:e.jsx("button",{className:"mt-8 mb-6",children:e.jsxs("span",{className:"font-light font-mono flex items-center gap-1",children:[e.jsx(z,{}),"Back"]})})}),e.jsx(V,{})]});export{Y as Tweets};
